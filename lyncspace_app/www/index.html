{% extends "templates/lync_web.html" %}

{% block page_content %}


<div class="hero-slider">

    
    <div class="hs-bg"></div>

    {% for s in slides %}
    <div class="hs-slide {% if loop.first %}active{% endif %}">

        <!-- Text -->
        <div class="hs-overlay">
            <h2>
                {% if s.title_line_1 %}<span>{{ s.title_line_1 }}</span><br>{% endif %}
                {% if s.title_line_2 %}<span>{{ s.title_line_2 }}</span><br>{% endif %}
                {% if s.title_line_3 %}<span>{{ s.title_line_3 }}</span>{% endif %}
            </h2>

            <p>
                {% for line in s.description.split("\n") %}
                    {% if line.strip() %}
                    <span>{{ line }}</span><br>
                    {% endif %}
                {% endfor %}
            </p>
        </div>

        <!-- Media -->
        {% if s.media_type != "None" %}
        <div class="hs-media">
            {% if s.media_type == "Image" %}
                <img src="{{ s.image }}">
            {% else %}
                <iframe
                    src="https://www.youtube-nocookie.com/embed/{{ s.youtube_embed }}?rel=0&modestbranding=1&controls=1&iv_load_policy=3&fs=1"
                    allowfullscreen>
                </iframe>
            {% endif %}
        </div>
        {% endif %}
    </div>
    {% endfor %}

    <span class="hs-prev">‚ùÆ</span>
    <span class="hs-next">‚ùØ</span>

    <div class="hs-dots">
        {% for s in slides %}
        <span class="{% if loop.first %}active{% endif %}" data-i="{{ loop.index0 }}"></span>
        {% endfor %}
    </div>
</div>




<!-- ================================
     TOP TITLE + SUBTEXT + SEPARATOR
================================ -->
<section class="container text-center mt-4">

    <h3 class="mb-2" style="font-weight:500; color:#333;">
        We will do all that we can, to live up to our client's desire
    </h3>

    <p class="text-center mb-4" style="max-width:850px; margin:auto; color:#666;">
        Driven through commitment, quality and innovation. We integrate honesty, integrity 
        and business ethics into all aspects of our business functioning.
    </p>

    <!-- separator line like original -->
    <hr style="border-top: 1px solid #e5e5e5; margin: 30px 0 50px;">
</section>


<!-- ================================
     STATIC FEATURE CARDS (3 boxes)
================================ -->
<section class="container pb-5">
    <div class="row text-center justify-content-center">

        <!-- Commitment -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="hom-card-1 p-4 h-100">
                <i class="fa-solid fa-handshake icon"></i>
                <h4 class="mb-3">Commitment</h4>
                <p>
                    We commit ourselves to work consistently to take steps towards your business goals.
                    We believe in individual commitment of our employees that makes your business more
                    stable than ever.
                </p>
            </div>
        </div>

        <!-- Quality -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="hom-card-1 p-4 h-100">
                <i class="fa-solid fa-award icon"></i>
                <h4 class="mb-3">Quality</h4>
                <p>
                    We strongly believe that the measure of who we are is defined by what we do.
                    That has always kept us delivering uncompromised quality with outstanding deliverables.
                </p>
            </div>
        </div>

        <!-- Innovation -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="hom-card-1 p-4 h-100">
                <i class="fa-solid fa-lightbulb icon"></i>
                <h4 class="mb-3">Innovation</h4>
                <p>
                    Innovation comes from people who enjoy their work. Our clients are served by 
                    creative individuals who think beyond boundaries and deliver long-lasting value.
                </p>
            </div>
        </div>

    </div>
</section>



<!-- ================================
     TECHNOLOGY LOGOS (DYNAMIC)
================================ -->
<section class="container text-center py-5">

    <h3 class="mb-2" style="font-weight:500;">Technology</h3>
    <div style="width:120px;height:3px;background:#27A5F9;margin:8px auto 35px;"></div>

    <div class="tech-carousel">
        <div class="tech-track">

            {% for t in tech_logos %}
            <div class="tech-item">
                <img src="{{ t.logo }}" alt="{{ t.tech_name }}">
            </div>
            {% endfor %}

            <!-- duplicated items for seamless looping -->
            {% for t in tech_logos %}
            <div class="tech-item">
                <img src="{{ t.logo }}" alt="{{ t.tech_name }}">
            </div>
            {% endfor %}

        </div>
    </div>

</section>














<!---------------------------------------------------------------->
<!-- JS to handle hero slider functionality -->
<script>
document.addEventListener("DOMContentLoaded", () => {

    const slider = document.querySelector(".hero-slider");
    const slides = Array.from(slider.querySelectorAll(".hs-slide"));
    const prevBtn = slider.querySelector(".hs-prev");
    const nextBtn = slider.querySelector(".hs-next");
    const dots = Array.from(slider.querySelectorAll(".hs-dots span"));
    const bg = slider.querySelector(".hs-bg");

    let index = slides.findIndex(s => s.classList.contains("active"));
    if (index < 0) index = 0;

    let animating = false;
    let bgPos = 0;
    const TIME = 600;

    // INITIAL STYLES
    slides.forEach((s, i) => {
        s.style.position = "absolute";
        s.style.inset = "0";
        s.style.transition = "transform .6s ease, opacity .6s ease";
        s.style.opacity = i === index ? "1" : "0";
        s.style.transform = "translateX(0)";
        s.style.zIndex = i === index ? "2" : "1";
    });

    function updateDots(i) {
        dots.forEach((d, x) => {
            d.classList.toggle("active", x === i);
        });
    }

    // üî• This is where we will plug your effect (individual code)
    function transitionEffect(oldSlide, newSlide, direction) {
        /* replaced per effect */
        const from = direction === "next" ? "100%" : "-100%";
    const to   = direction === "next" ? "-100%" : "100%";

    newSlide.style.transform = `translateX(${from})`;
    newSlide.style.opacity = "1";

    requestAnimationFrame(() => {
        newSlide.style.transform = "translateX(0)";
        oldSlide.style.transform = `translateX(${to})`;
    });
    }

    function go(newIndex, direction) {
        if (animating || newIndex === index) return;
        animating = true;

        const oldSlide = slides[index];
        const newSlide = slides[newIndex];

        newSlide.style.zIndex = "3";
        oldSlide.style.zIndex = "2";

        transitionEffect(oldSlide, newSlide, direction);

        // background parallax same for all
        if (bg) {
            bgPos += direction === "next" ? -40 : 40;
            bg.style.transition = "background-position .6s ease";
            bg.style.backgroundPosition = `calc(50% + ${bgPos}px) center`;
        }

        setTimeout(() => {
            oldSlide.style.opacity = "0";
            newSlide.style.opacity = "1";
            index = newIndex;
            updateDots(index);
            animating = false;
        }, TIME);
    }

    function next() {
        go((index + 1) % slides.length, "next");
    }

    function prev() {
        go((index - 1 + slides.length) % slides.length, "prev");
    }

    // Buttons
    nextBtn.addEventListener("click", next);
    prevBtn.addEventListener("click", prev);

    // Dots
    dots.forEach(d => {
        d.addEventListener("click", () => {
            const i = Number(d.dataset.i);
            if (i === index) return;
            const dir = i > index ? "next" : "prev";
            go(i, dir);
        });
    });

});
</script>








{% endblock %}